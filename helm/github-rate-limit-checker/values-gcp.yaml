# Example values for GCP deployment with External Secrets Operator
# Usage: helm install github-rate-checker ./helm/github-rate-limit-checker -f values-gcp.yaml

image:
  repository: gcr.io/your-project/github-rate-limit-checker
  tag: "1.0.0"

replicaCount: 1

serviceAccount:
  create: true
  annotations:
    # For GCP Workload Identity
    iam.gke.io/gcp-service-account: github-rate-checker@your-project.iam.gserviceaccount.com

github:
  authMethod: "app"
  app:
    appId: "1425448"
    installationId: "71947549"
    privateKey:
      externalSecret:
        enabled: true
        name: github-app-external-secret
        secretStoreName: gcp-secret-manager
        secretStoreKind: SecretStore
        targetSecretName: github-app-credentials
        refreshInterval: 1h
        remoteSecrets:
          gcp:
            projectID: your-project-id
            secretName: github-app-private-key

config:
  prometheusEnabled: true
  prometheusPort: 9090
  watch: false
  interval: 60

serviceMonitor:
  enabled: true
  additionalLabels:
    prometheus: kube-prometheus

resources:
  limits:
    cpu: 200m
    memory: 128Mi
  requests:
    cpu: 50m
    memory: 64Mi

podDisruptionBudget:
  enabled: true
  minAvailable: 0

networkPolicy:
  enabled: true

nodeSelector:
  kubernetes.io/os: linux
  cloud.google.com/gke-nodepool: default-pool
