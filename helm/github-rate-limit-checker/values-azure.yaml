# Example values for Azure deployment with External Secrets Operator
# Usage: helm install github-rate-checker ./helm/github-rate-limit-checker -f values-azure.yaml

image:
  repository: your-acr.azurecr.io/github-rate-limit-checker
  tag: "1.0.0"

replicaCount: 1

serviceAccount:
  create: true
  annotations:
    # For Azure Workload Identity
    azure.workload.identity/client-id: "your-client-id"
    azure.workload.identity/tenant-id: "your-tenant-id"

podLabels:
  azure.workload.identity/use: "true"

github:
  authMethod: "app"
  app:
    appId: "1425448"
    installationId: "71947549"
    privateKey:
      externalSecret:
        enabled: true
        name: github-app-external-secret
        secretStoreName: azure-keyvault
        secretStoreKind: SecretStore
        targetSecretName: github-app-credentials
        refreshInterval: 1h
        remoteSecrets:
          azure:
            vaultUrl: https://your-keyvault.vault.azure.net
            secretName: github-app-private-key

config:
  prometheusEnabled: true
  prometheusPort: 9090
  watch: false
  interval: 60

serviceMonitor:
  enabled: true
  additionalLabels:
    prometheus: kube-prometheus

resources:
  limits:
    cpu: 200m
    memory: 128Mi
  requests:
    cpu: 50m
    memory: 64Mi

podDisruptionBudget:
  enabled: true
  minAvailable: 0

networkPolicy:
  enabled: true

nodeSelector:
  kubernetes.io/os: linux
  agentpool: system
